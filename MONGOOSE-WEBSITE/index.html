<html lang="en"> <head> <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta http-equiv="X-UA-Compatible" content="ie=edge"> 
     <link rel="stylesheet" type="text/css" href="stylesheet.css">
      <title>Mongoose</title> 
    </head> 
    <body>
        <!-- <h1 id="Mongoose"></h1> -->
            <b>Mongoose</b>
        <div id="wrap">
           <div id="page">
            <div id="menu">
<ul>
          <li> <a href="">Home</a></li>
         <li><a href="">Models/Scehma</a></li> 
         <li><a href="">Schema Types</a></li> 
         <li><a href="">Schema Options</a></li> 
         <li><a href="">Middleware</a></li> 
         <li><a href="">Finding Docs</a></li> 
         <li><a href="">Updating Docs</a></li> 
         <li><a href="">Queries</a></li> 
         <li><a href="">Query Streams</a></li> 
         <li><a href="">Methods & Statics</a></li> 
         <li><a href="">Defaults</a></li> 
         <li><a href="">Indexes</a></li> 
         <li><a href="">Validation</a></li>
          <li><a href="">Virtuals</a></li>
           <li><a href="">Getters/Setters</a></li> 
           <li><a href="">Embedded Docs</a></li>
            <li><a href="">Populate (DBRef-like)</a></li>
             <li><a href="">Plug-ins</a></li> 
             <li><a href="">Errors</a></li>
              <li><a href="">v1x-v2x Migration</a></li>
               <li><a href="">API</a></li>
                        </ul>
                        </div>

                        <a></a>
            <div id="content">
       <br>  <h2>Embedded Documents</h2> 

         <p>    Embedded documents are documents with schemas of their own that are part of other 
             documents (as items within an array). 
            
             Embedded documents enjoy all the same features as your models. Defaults, validators, middleware. 
                Whenever an error occurs, it's bubbled to the save() error callback, so error handling is a snap!
             Mongoose interacts with your embedded documents in 
                    arrays atomically, out of the box.</p>

          <h2>Definition and Initialization</h2>

           <p>When you define a Schema like this:</p> 

        <br>   <pre><code> var Comments = new Schema({ title : String ,
                body : String , 
                date : Date });

                var BlogPost = new Schema({ 
                        author : ObjectId ,
                     title : String , 
                     body : String , 
                     date : Date , 
                     comments : [Comments] , 
                     meta : { 
                         votes : Number , 
                         favs : Number } });

                    mongoose.model('BlogPost', BlogPost); 
               </code> </pre> <br>

        <p>The comments key of your BlogPost documents will then be an instance of this is a special 
                subclassed Array that can deal with casting, and has special methods to work with embedded documents. </p>
        
        <h2>Adding an embedded document to an array</h2>

 <pre><code>// retrieve my model var BlogPost = mongoose.model('BlogPost'); 
     // create a blog post var post = new BlogPost(); 
    // create a comment post.comments.push({ title: 'My comment' });
        post.save(function (err) { 
            if (!err) console.log('Success!'); });  </code> </pre> </br>

                  
            <h2>Removing an embedded document </h2>
  
<br>  <pre><code>                  
        BlogPost.findById(myId, function (err, post) {
            if (!err) {
                post.comments[0].remove();
                post.save(function (err) {
                    // do something
                    });
                        }
                          });
                       </code> </pre> <br>
                        


                        <h2>Finding an embedded document by id </h2>

                          
                         <p>      
                             DocumentArrays have an special method id that filters your embedded documents by 
                                their _id property (each embedded document gets one):

                                Consider the following snippet: </p>

     <br>   <pre><code>
             post.comments.id(my_id).remove();
                post.save(function (err) {
                    // embedded comment with id `my_id` removed!
                    });
                      </code></pre> <br>

                               </div>
                                <div id="footer"></div>

                                <!-- email -->
                                
<img src="google-groups.png" width="20%" height="15%"/>
                     Email:
                                <input type="text" name="emailaddress" id= "google-subscribe-email ">
                                <input type="submit" name= "go" value="Subscribe">
                                                                    
                                     <!-- License -->
          
          <div id="License">                       Mongoose by
                    <a href="">LearnBoost Labs</a>
<br>
                    Released under MIT License.

<br>
                        Copyright
                        <a href="">LearnBoost 2011</a>
            </div>

      
                                                                    
    </div>
</div>

    </body>    
        </html>